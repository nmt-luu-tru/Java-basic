# Lớp (Class) trong Java: Đối Tượng, Trường, Phương Thức và Tạo Đối Tượng

Trong video này, chúng ta sẽ tiếp tục khám phá về Lập Trình Hướng Đối Tượng (Object-Oriented Programming - OOP) trong Java, tập trung vào các khái niệm cơ bản về lớp (class), đối tượng (object), các thành phần của lớp như trường (fields), phương thức (methods), phạm vi truy cập (access modifiers), và cách tạo đối tượng từ lớp. Hãy cùng đi sâu vào từng phần để hiểu rõ hơn về cách OOP hoạt động trong Java.

## 1. Đối Tượng (Object)

### 1.1. Định Nghĩa Đối Tượng

Đối tượng là một thực thể có trạng thái và hành vi, được gọi là đối tượng trong lập trình hướng đối tượng. Ví dụ về các đối tượng trong thế giới thực bao gồm: học sinh, cà phê, xe đạp, trường học, v.v.

### 1.2. Ba Đặc Điểm Của Đối Tượng

Mỗi đối tượng có ba đặc điểm chính:

1. **Trạng Thái (State):**
   - Đại diện cho dữ liệu hoặc giá trị của một đối tượng.
   - Ví dụ: Số lượng RAM của một máy tính, màu sắc của một chiếc xe, độ tuổi của một con kiến.

2. **Hành Vi (Behavior):**
   - Đại diện cho các chức năng hoặc hành động mà đối tượng có thể thực hiện.
   - Ví dụ: Máy tính có thể khởi động, tắt; con kiến có thể ăn, uống, chiến đấu.

3. **Danh Tính (Identity):**
   - Được cài đặt thông qua một ID duy nhất.
   - ID này được ẩn với người dùng bên ngoài nhưng được sử dụng trong nội bộ máy ảo JVM để định danh từng đối tượng.

### 1.3. Mối Quan Hệ Giữa Lớp và Đối Tượng

Đối tượng (Object) là thể hiện của một lớp (Class). Lớp là một mẫu hoặc thiết kế từ đó các đối tượng được tạo ra. Vì vậy, đối tượng là các thể hiện (kết quả) của một lớp.

## 2. Lớp (Class)

### 2.1. Định Nghĩa Lớp

Một lớp là một nhóm đối tượng có các thuộc tính chung. Nó là bản thiết kế hoặc khuôn mẫu từ đó các đối tượng được tạo ra. Trong Java, một lớp có thể chứa các thành phần sau:

- **Thành Viên Dữ Liệu (Fields):**
  - Là các biến có tác dụng lưu trữ thông tin được xử lý bên trong lớp.
  - Trong Java, các trường được khai báo trực tiếp bên trong một lớp và được gọi là biến thành viên của lớp.
  - Cú pháp khai báo trường:
    ```java
    private String make;
    private String model;
    private String color;
    private int doors;
    private boolean convertible;
    ```

- **Constructor:**
  - Là phương thức đặc biệt được gọi khi một đối tượng mới được tạo ra.
  - Nếu không viết một constructor rõ ràng, Java sẽ xây dựng một constructor mặc định cho lớp đó.
  - Các constructor có cùng tên với lớp và có thể có nhiều hơn một constructor (nạp chồng constructor).

- **Phương Thức (Methods):**
  - Trong Java, phương thức tương tự như hàm, được sử dụng để mô tả hành vi của đối tượng.
  - Phương thức giúp tăng tính tái sử dụng và tối ưu hóa mã nguồn.
  - Ví dụ:
    ```java
    public void describeCar() {
        System.out.println("Number of doors: " + doors);
        System.out.println("Color: " + color);
        System.out.println("Make: " + make);
        System.out.println("Model: " + model);
        System.out.println("Convertible: " + (convertible ? "Yes" : "No"));
    }
    ```

- **Phạm Vi Truy Cập (Access Modifiers):**
  - Bao gồm các từ khóa `public`, `protected`, `private` được trình bày trong phần Access Modifiers.
  - Quy định quyền truy cập vào các thành viên của lớp từ bên ngoài.

### 2.2. Ví Dụ Về Lớp `Bicycle`

Dưới đây là một ví dụ về lớp `Bicycle` trong Java:

```java
public class Bicycle {

    // Trạng thái hoặc trường
    private int gear = 5;

    // Hành vi hoặc phương thức
    public void braking() {
        System.out.println("Working of Braking");
    }
}
```

### 2.3. Các Loại Biến Trong Lớp

Một lớp có thể chứa bất kỳ loại biến nào sau:

1. **Biến Cục Bộ (Local Variables):**
   - Được định nghĩa bên trong các phương thức, constructor hoặc block code.
   - Biến này chỉ tồn tại trong phạm vi của phương thức hoặc block code đó và sẽ bị hủy khi phương thức hoàn thành.

2. **Biến Instance:**
   - Là các biến trong một lớp nhưng bên ngoài bất kỳ phương thức nào.
   - Các biến này được khởi tạo khi lớp được tải và mỗi đối tượng có thể có giá trị khác nhau cho các biến này.
   - Ví dụ:
     ```java
     private String make;
     private String model;
     ```

3. **Biến Class:**
   - Là các biến được khai báo với từ khóa `static`, bên ngoài bất kỳ phương thức nào.
   - Chỉ có một bản sao của biến này trong bộ nhớ, và giá trị của nó liên kết với lớp chứ không phải với bất kỳ đối tượng nào.
   - Ví dụ:
     ```java
     public static int numberOfBicycles = 0;
     ```

## 3. Cách Tạo Đối Tượng trong Java

Để tạo một đối tượng từ lớp, bạn sử dụng từ khóa `new` và gọi constructor của lớp đó. Dưới đây là ví dụ tạo các đối tượng từ lớp `Bicycle`:

```java
public class Main {
    public static void main(String[] args) {
        // Tạo đối tượng bicycle đầu tiên
        Bicycle sportsBicycle = new Bicycle();
        
        // Tạo đối tượng bicycle thứ hai
        Bicycle touringBicycle = new Bicycle();
        
        // Sử dụng phương thức braking
        sportsBicycle.braking();
        touringBicycle.braking();
    }
}
```

### 3.1. Giải Thích Ví Dụ

- **Khởi Tạo Đối Tượng:**
  ```java
  Bicycle sportsBicycle = new Bicycle();
  Bicycle touringBicycle = new Bicycle();
  ```
  - `sportsBicycle` và `touringBicycle` là hai đối tượng khác nhau của lớp `Bicycle`.
  - Mỗi đối tượng sẽ có trạng thái riêng biệt dựa trên các biến instance của lớp.

- **Sử Dụng Phương Thức:**
  ```java
  sportsBicycle.braking();
  touringBicycle.braking();
  ```
  - Gọi phương thức `braking` cho từng đối tượng, thực hiện hành vi được định nghĩa trong lớp `Bicycle`.

## 4. Giá Trị Mặc Định của Các Trường trong Java

Khi tạo một đối tượng mới, các trường (fields) của lớp sẽ được gán giá trị mặc định nếu không được khởi tạo. Giá trị mặc định phụ thuộc vào kiểu dữ liệu của trường đó:

- **Kiểu Số Nguyên (int, short, ...) :** 0
- **Kiểu Số Thực (double, float) :** 0.0
- **Kiểu Boolean :** false
- **Các Đối Tượng (String, ...) :** null

### 4.1. Ví Dụ về Giá Trị Mặc Định

```java
public class Car {
    private String make;
    private String model;
    private String color;
    private int doors;
    private boolean convertible;

    public void describeCar() {
        System.out.println(doors + "-door " + color + " " + make + " " + model + " convertible: " + convertible);
    }
}

public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        car.describeCar();
    }
}
```

**Kết Quả Khi Chạy:**
```
0-door null null null convertible: false
```

### 4.2. Gán Giá Trị Mặc Định

Để tránh các giá trị mặc định không mong muốn, bạn có thể gán giá trị cho các trường ngay khi khai báo:

```java
public class Car {
    private String make = "Tesla";
    private String model = "Model X";
    private String color = "Gray";
    private int doors = 2;
    private boolean convertible = true;

    public void describeCar() {
        System.out.println(doors + "-door " + color + " " + make + " " + model + " convertible: " + (convertible ? "Yes" : "No"));
    }
}

public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        car.describeCar();
    }
}
```

**Kết Quả Khi Chạy:**
```
2-door Gray Tesla Model X convertible: Yes
```

## 5. Encapsulation: Bảo Vệ Dữ Liệu với Getters và Setters

### 5.1. Vấn Đề Truy Cập Trực Tiếp

Với các trường được khai báo là `private`, bạn không thể truy cập trực tiếp từ lớp `Main`. Ví dụ:

```java
public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        car.make = "Porsche"; // Lỗi: make là private
        car.model = "Carrera"; // Lỗi: model là private
        car.color = "Red"; // Lỗi: color là private
    }
}
```

### 5.2. Giải Pháp: Sử Dụng Getters và Setters

Để truy cập và thay đổi các trường riêng tư, bạn cần tạo các phương thức getter và setter trong lớp `Car`.

#### 5.2.1. Tạo Getter và Setter

```java
public class Car {
    private String make = "Tesla";
    private String model = "Model X";
    private String color = "Gray";
    private int doors = 2;
    private boolean convertible = true;

    // Getter và Setter cho make
    public String getMake() {
        return make;
    }

    public void setMake(String make) {
        this.make = make;
    }

    // Getter và Setter cho model
    public String getModel() {
        return model;
    }

    public void setModel(String model) {
        this.model = model;
    }

    // Getter và Setter cho color
    public String getColor() {
        return color;
    }

    public void setColor(String color) {
        this.color = color;
    }

    // Getter và Setter cho doors
    public int getDoors() {
        return doors;
    }

    public void setDoors(int doors) {
        this.doors = doors;
    }

    // Getter và Setter cho convertible
    public boolean isConvertible() {
        return convertible;
    }

    public void setConvertible(boolean convertible) {
        this.convertible = convertible;
    }

    public void describeCar() {
        System.out.println(doors + "-door " + color + " " + make + " " + model + " convertible: " + (convertible ? "Yes" : "No"));
    }
}
```

#### 5.2.2. Sử Dụng Getter và Setter trong Lớp `Main`

```java
public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        car.setMake("Porsche");
        car.setModel("Carrera");
        car.setColor("Red");
        car.setDoors(4);
        car.setConvertible(false);

        car.describeCar();
    }
}
```

**Kết Quả Khi Chạy:**
```
4-door Red Porsche Carrera convertible: No
```

### 5.3. Tạo Getter và Setter Tự Động với IntelliJ

IntelliJ cung cấp công cụ để tự động tạo các phương thức getter và setter, giúp tiết kiệm thời gian và giảm thiểu lỗi.

#### 5.3.1. Cách Tạo Getter và Setter Tự Động

1. **Chọn vị trí trong lớp `Car`.**
2. **Nhấn `Alt + Insert` (hoặc `Code` > `Generate` trong menu).**
3. **Chọn `Getter and Setter`.**
4. **Chọn các trường bạn muốn tạo phương thức và xác nhận.**

IntelliJ sẽ tự động tạo các phương thức getter và setter cho các trường được chọn.

## 6. Tóm Tắt

Trong video này, chúng ta đã học cách tạo đối tượng từ lớp `Car`, hiểu về giá trị mặc định của các trường trong Java, và áp dụng nguyên tắc encapsulation bằng cách sử dụng các phương thức getter và setter để bảo vệ dữ liệu riêng tư. Việc sử dụng getter và setter không chỉ giúp bảo mật dữ liệu mà còn cung cấp cách linh hoạt để kiểm soát việc truy cập và thay đổi các trường của đối tượng.

Trong video tiếp theo, chúng ta sẽ tiếp tục với việc thêm các phương thức setter và khám phá thêm về các lý do tại sao nên sử dụng setters để bảo vệ và kiểm soát trạng thái của đối tượng.
