# Từ Khóa `final` trong Java: Sử Dụng và Ứng Dụng

Trong Java, từ khóa `final` là một trong những từ khóa quan trọng được sử dụng để kiểm soát sự thay đổi và mở rộng của các biến, phương thức và lớp. Việc hiểu rõ cách sử dụng `final` giúp bạn viết mã nguồn an toàn hơn, ngăn ngừa các lỗi tiềm ẩn và duy trì tính ổn định của chương trình. Bài viết này sẽ giải thích chi tiết về các ứng dụng của từ khóa `final` trong Java, bao gồm `final variable`, `final method` và `final class`, kèm theo các ví dụ minh họa cụ thể.

## 1. `final` Variable (Biến `final`)

### 1.1. Định Nghĩa

Khi một biến được khai báo là `final`, giá trị của biến đó không thể được thay đổi sau khi đã được khởi tạo. Điều này đảm bảo rằng biến luôn giữ nguyên giá trị ban đầu suốt vòng đời của nó.

### 1.2. Ví Dụ

```java
class Main {
    public static void main(String[] args) {

        // Tạo một biến final
        final int AGE = 32;

        // Cố gắng thay đổi giá trị của biến final (sẽ gây lỗi)
        AGE = 45; // Lỗi: cannot assign a value to final variable AGE

        System.out.println("Age: " + AGE);
    }
}
```

### 1.3. Giải Thích

- **Khởi Tạo Biến `final`:** Biến `AGE` được khai báo là `final` và được gán giá trị ban đầu là `32`.
- **Thay Đổi Biến `final`:** Khi cố gắng gán giá trị mới `45` cho biến `AGE`, trình biên dịch sẽ báo lỗi vì không cho phép thay đổi giá trị của biến `final`.
- **Kết Quả:** Chương trình sẽ không biên dịch thành công do lỗi ở dòng `AGE = 45;`.

### 1.4. Ứng Dụng

- **Biến Hằng (Constants):** Thường được sử dụng để định nghĩa các hằng số, chẳng hạn như `PI`, `MAX_VALUE`, v.v.
- **Bảo Vệ Dữ Liệu:** Đảm bảo rằng giá trị của biến không bị thay đổi ngoài ý muốn, tăng tính an toàn và ổn định của chương trình.

## 2. `final` Method (Phương Thức `final`)

### 2.1. Định Nghĩa

Khi một phương thức được khai báo là `final`, nó không thể bị ghi đè (override) bởi bất kỳ lớp con nào. Điều này đảm bảo rằng hành vi của phương thức luôn được duy trì và không bị thay đổi trong các lớp kế thừa.

### 2.2. Ví Dụ

```java
class FinalDemo {
    // Phương thức final
    public final void display() {
        System.out.println("This is a final method.");
    }
}

public class Main extends FinalDemo {
    // Cố gắng ghi đè phương thức final (sẽ gây lỗi)
    public void display() {
        System.out.println("The final method is overridden.");
    }

    public static void main(String[] args) {
        Main obj = new Main();
        obj.display();
    }
}
```

### 2.3. Giải Thích

- **Lớp `FinalDemo`:** Định nghĩa một phương thức `display` là `final`.
- **Lớp `Main`:** Kế thừa từ `FinalDemo` và cố gắng ghi đè phương thức `display`. Điều này sẽ gây lỗi biên dịch vì phương thức `display` trong `FinalDemo` đã được khai báo là `final`.
- **Kết Quả:** Chương trình sẽ không biên dịch thành công do lỗi ở phương thức `display` trong lớp `Main`.

### 2.4. Ứng Dụng

- **Bảo Vệ Phương Thức Quan Trọng:** Đảm bảo rằng các phương thức quan trọng không bị thay đổi trong các lớp kế thừa, duy trì tính nhất quán của hành vi.
- **Tăng Tính An Toàn:** Ngăn ngừa việc ghi đè các phương thức mà bạn muốn giữ nguyên hành vi gốc.

## 3. `final` Class (Lớp `final`)

### 3.1. Định Nghĩa

Khi một lớp được khai báo là `final`, nó không thể bị kế thừa bởi bất kỳ lớp nào khác. Điều này đảm bảo rằng cấu trúc và hành vi của lớp không bị thay đổi thông qua việc kế thừa.

### 3.2. Ví Dụ

```java
// Lớp final
final class FinalClass {
    public void display() {
        System.out.println("This is a final class.");
    }
}

// Cố gắng kế thừa lớp final (sẽ gây lỗi)
class Main extends FinalClass {
    public void display() {
        System.out.println("The final class is overridden.");
    }

    public static void main(String[] args) {
        Main obj = new Main();
        obj.display();
    }
}
```

### 3.3. Giải Thích

- **Lớp `FinalClass`:** Được khai báo là `final`, không thể bị kế thừa.
- **Lớp `Main`:** Cố gắng kế thừa từ `FinalClass` sẽ gây lỗi biên dịch vì `FinalClass` là `final`.
- **Kết Quả:** Chương trình sẽ không biên dịch thành công do lỗi ở dòng `class Main extends FinalClass`.

### 3.4. Ứng Dụng

- **Tạo Các Lớp Không Thể Thay Đổi:** Đảm bảo rằng lớp không thể bị kế thừa, giữ nguyên tính không thay đổi của lớp.
- **Bảo Vệ Cấu Trúc:** Ngăn ngừa việc thay đổi cấu trúc hoặc hành vi của lớp thông qua kế thừa.

## 4. Tóm Tắt

Từ khóa `final` trong Java là một công cụ mạnh mẽ để kiểm soát sự thay đổi và mở rộng của các biến, phương thức và lớp. Việc sử dụng `final` giúp bạn:

- **Bảo Vệ Dữ Liệu:** Đảm bảo rằng các biến không bị thay đổi ngoài ý muốn.
- **Ngăn Ngừa Ghi Đè Phương Thức:** Đảm bảo rằng các phương thức quan trọng không bị thay đổi trong các lớp kế thừa.
- **Khóa Kế Thừa Lớp:** Đảm bảo rằng cấu trúc và hành vi của lớp không bị thay đổi thông qua kế thừa.

Hiểu và áp dụng đúng cách từ khóa `final` sẽ giúp bạn viết mã nguồn an toàn hơn, dễ bảo trì và duy trì tính ổn định của chương trình. Trong các bài học tiếp theo, chúng ta sẽ tiếp tục khám phá các khái niệm nâng cao hơn trong Lập Trình Hướng Đối Tượng để xây dựng các ứng dụng phức tạp và hiệu quả hơn.
