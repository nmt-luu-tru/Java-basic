### Đa Hình (Polymorphism) trong Java

Đa hình là một yếu tố rất quan trọng trong lập trình hướng đối tượng (OOP) và được hỗ trợ trong Java. Đây là khái niệm cho phép một đối tượng hoạt động theo nhiều cách khác nhau tùy vào bối cảnh. Trong Java, có hai loại đa hình chính: **đa hình tĩnh** và **đa hình động**.

#### **Đa hình tĩnh (Compile-time Polymorphism):**
Đa hình tĩnh xảy ra trong thời gian biên dịch và được thực hiện thông qua **nạp chồng phương thức** (method overloading). Trình biên dịch sẽ quyết định phương thức nào được gọi dựa trên tham số truyền vào. Ví dụ:

```java
class Calculator {
    // Nạp chồng phương thức - method overloading
    public int add(int a, int b) {
        return a + b;
    }
    
    public double add(double a, double b) {
        return a + b;
    }
}

public class Main {
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        System.out.println(calc.add(5, 3));    // Output: 8
        System.out.println(calc.add(5.5, 3.2)); // Output: 8.7
    }
}
```

Trong ví dụ trên, phương thức `add` được nạp chồng để chấp nhận cả số nguyên và số thực.

#### **Đa hình động (Runtime Polymorphism):**
Đa hình động xảy ra trong thời gian chạy, thường được thực hiện thông qua **ghi đè phương thức** (method overriding). Khi một phương thức trong lớp con ghi đè một phương thức trong lớp cha, Java sẽ quyết định phương thức nào sẽ được gọi dựa trên loại đối tượng tại thời gian chạy, chứ không phải loại của biến tham chiếu.

Ví dụ:

```java
class Polygon {
    public void render() {
        System.out.println("Rendering Polygon...");
    }
}

class Square extends Polygon {
    @Override
    public void render() {
        System.out.println("Rendering Square...");
    }
}

class Circle extends Polygon {
    @Override
    public void render() {
        System.out.println("Rendering Circle...");
    }
}

public class Main {
    public static void main(String[] args) {
        // Đa hình động thông qua ghi đè phương thức
        Polygon p1 = new Square();
        p1.render(); // Output: Rendering Square...

        Polygon p2 = new Circle();
        p2.render(); // Output: Rendering Circle...
    }
}
```

Ở đây, biến `p1` có kiểu tham chiếu là `Polygon`, nhưng tại thời gian chạy, nó tham chiếu đến đối tượng thuộc lớp `Square`, do đó phương thức `render` của `Square` được gọi.

#### **Tại sao nên sử dụng đa hình:**
1. **Tính nhất quán:** Cho phép các lớp con ghi đè các phương thức của lớp cha, cung cấp sự linh hoạt trong cách thức thực thi.
2. **Giảm thiểu mã trùng lặp:** Bạn có thể viết các phương thức chung cho nhiều loại đối tượng mà không cần phải biết cụ thể loại của đối tượng đó tại thời điểm viết mã.
3. **Mở rộng dễ dàng:** Đa hình cho phép chương trình có thể dễ dàng mở rộng thêm các loại đối tượng mà không làm ảnh hưởng đến mã gốc.
4. **Tính linh hoạt:** Các lớp con có thể có cách triển khai khác nhau cho cùng một phương thức trong lớp cha, giúp hệ thống dễ bảo trì và mở rộng.

#### **Ví dụ minh họa tổng quát:**
```java
class Animal {
    public void sound() {
        System.out.println("Animal makes a sound");
    }
}

class Dog extends Animal {
    @Override
    public void sound() {
        System.out.println("Dog barks");
    }
}

class Cat extends Animal {
    @Override
    public void sound() {
        System.out.println("Cat meows");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal myAnimal = new Animal();
        Animal myDog = new Dog();
        Animal myCat = new Cat();

        myAnimal.sound(); // Output: Animal makes a sound
        myDog.sound();    // Output: Dog barks
        myCat.sound();    // Output: Cat meows
    }
}
```

Trong ví dụ này, biến `myDog` và `myCat` có kiểu tham chiếu là `Animal`, nhưng tại thời gian chạy, chúng thực thi các phương thức tương ứng của lớp `Dog` và `Cat`.

### **Kết luận:**
- **Đa hình tĩnh**: Quyết định tại thời gian biên dịch, thông qua nạp chồng phương thức.
- **Đa hình động**: Quyết định tại thời gian chạy, thông qua ghi đè phương thức.
- Đa hình giúp mã dễ bảo trì, linh hoạt và có khả năng mở rộng, làm cho Java trở thành một ngôn ngữ lập trình mạnh mẽ và phù hợp cho lập trình hướng đối tượng.
